<!--components/input/input.wxml-->
<view class="container" style="padding-bottom: {{bottomHeight}}px;background-color: white;">
    <view class="left">
        <t-button theme="primary" size="small" icon="{{mode === 'voice' ? 'sound' : 'swap'}}" shape="circle" aria-label="声音" bindtap="changeMode" />
    </view>
    <view class="center" wx:if="{{mode === 'voice'}}">
        <t-textarea bordered disableDefaultPadding="{{true}}" autosize="{{autosize}}" bind:line-change="onLineChange" confirm-type="send" bind:change="onChange" value="{{inputValue}}" adjust-position="false" bind:focus="inputFocus" bind:blur="changeInputBlur"></t-textarea>
    </view>
    <view class="right" wx:if="{{mode === 'voice'}}">
        <t-button theme="primary" size="small" icon="arrow-up" shape="circle" aria-label="确认" type="submit" bindtap="confirm"></t-button>
    </view>
    <view class="long-press" wx:if="{{mode !== 'voice'}}">
        <t-button theme="primary" variant="outline" size="large" block icon="{{isPressing ? 'stop' : 'caret-right'}}" bindlongpress='longPressed' longpress-duration="200" bindtouchstart="onTouchStart" bindtouchend="onTouchEnd" bindtouchmove="onTouchMoved" wx:if="{{!loading}}">{{isPressing ? '松开发送' : '长按说话'}}</t-button>
        <t-button theme="primary" variant="outline" size="large" block loading bindlongpress='longPressed' longpress-duration="200" wx:if="{{loading}}">加载中</t-button>
    </view>
</view>